<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Outdoor Exhibit Survey</title>
	<link type="text/css" rel="stylesheet" href="css/timeline.css"/>
	<link type="text/css" rel="stylesheet" href="css/style.css"/>
	<link type="text/css" rel="stylesheet" href="css/weather-icons.css"/>
	<script type="text/javascript" src="constants.js"></script>
	<script type="text/javascript" src="https://d3js.org/d3.v4.min.js"></script>
	<script type="text/javascript" src="https://d3js.org/topojson.v2.min.js"></script>
	<script type="text/javascript" src="lib/plotly-latest.min.js"></script>
	<style>
		<!-- Used only for iFrames, which we need to replace to integrate the graphs. -->
		.box {
		  float: right;
		}
	</style>
</head>
<body>


<div id="heading">
	<div class="pagetitle" style="float: left;">Outdoor Exhibit Survey</div>
	<div style="float: right;">
		<form>
			<input class="pagebutton" type="button" value="About"
			onclick="window.location.href='about.html'" />
		</form>
	</div>
	<br/><br/>
	<div class="pagetext">
		<p>
			TODO: Describe the visualization, and link to a demo on YouTube.
		</p>
	</div>
</div>

<div id="vis">
	<!-- TODO: Resize the timeline and map dynamically: maybe using viewbox? -->
	
	<div id=filterdiv">
		<svg id="filters" width="1000" height="100"></svg>
		<script type="text/javascript" src="filters.js"></script>
	</div>
	
	<div id="timelinediv">
		<svg id="timeline" width="1000" height="500"></svg>
		<svg id="timelineKeys" width="1000" height="125"></svg>
		<script type="text/javascript" src="timeline.js"></script>
		<script type="text/javascript">
			// Create the static parts of the page:
			drawTimelineStaticParts();
			
			// Display the survey data.
			function refreshSurveyData() {
				drawTimelineGraphs();
			}
			
			// Load the survey data
			d3.csv("data/SurveyData.csv",function(error,d) {
				if (error) { //If error is not null, something went wrong.
					console.log(error); //Log the error.
				} else { //If no error, the file loaded correctly. Yay!
					SLE_data = d;
					loadTimelineSurveyData();
					refreshSurveyData();
				}
			});
		</script>
	</div>
	
	<div id="bargraphs">
		<div id="agebarchart" style="width: 50%; height: 500px; float: left;">
			<script type="text/javascript" src="Ages.js"></script>
		</div>
		<div id="slebarchart" style="width: 50%; height: 500px; float: right;">
			<script type="text/javascript" src="SLEchart.js"></script>
		</div>
	</div>
	
	<div id="map">
		<script type="text/javascript" src="map.js"></script>
	</div>
	
</div>	
</body>
</html>
